data = [{'id': 1, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}}, {'id': 2, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}}, {'id': 3, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}}, {'id': 4, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 7, 'teil_sanr': '2590830'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}}, {'id': 5, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}}, {'id': 6, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 8, 'teil_sanr': '8085149'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}}, {'id': 7, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 8, 'teil_sanr': '8085149'}}, {'id': 8, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}}, {'id': 9, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 7, 'teil_sanr': '2590830'}}, {'id': 10, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}}, {'id': 11, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 2, 'teil_sanr': '6161730'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}}, {'id': 12, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 6, 'teil_sanr': '9785899'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 2, 'teil_sanr': '6161730'}}, {'id': 13, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 8, 'teil_sanr': '8085149'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 7, 'teil_sanr': '2590830'}}, {'id': 14, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 6, 'teil_sanr': '9785899'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 8, 'teil_sanr': '8085149'}}, {'id': 15, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 6, 'teil_sanr': '9785899'}}, {'id': 16, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}}, {'id': 17, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 8, 'teil_sanr': '8085149'}}, {'id': 18, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}}, {'id': 19, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 2, 'teil_sanr': '6161730'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}}, {'id': 20, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 2, 'teil_sanr': '6161730'}}, {'id': 21, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 7, 'teil_sanr': '2590830'}}, {'id': 22, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}}, {'id': 23, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}}, {'id': 24, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 8, 'teil_sanr': '8085149'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}}, {'id': 25, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}}, {'id': 26, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}}, {'id': 27, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}}, {'id': 28, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 7, 'teil_sanr': '2590830'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}}, {'id': 29, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 6, 'teil_sanr': '9785899'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 7, 'teil_sanr': '2590830'}}, {'id': 30, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 6, 'teil_sanr': '9785899'}}, {'id': 31, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}}, {'id': 32, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}}, {'id': 33, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}}, {'id': 34, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 1, 'teil_sanr': '4233537'}}, {'id': 35, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 2, 'teil_sanr': '6161730'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}}, {'id': 36, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 2, 'teil_sanr': '6161730'}}, {'id': 37, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 5, 'teil_sanr': '9418987'}}, {'id': 38, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 3, 'teil_sanr': '5347960'}}, {'id': 39, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 4, 'teil_sanr': '5958252'}}, {'id': 40, 'teil_sanr_danach2': {'bauteil_kategorie': 'Rotor', 'id': 9, 'teil_sanr': '2196272'}, 'teil_sanr_vor2': {'bauteil_kategorie': 'Rotor', 'id': 10, 'teil_sanr': '3216357'}}]

initialNodes = []
initialEdges = []

# Create initial nodes and edges
for item in data:
    source_node = {
        'id': f'horizontal-{item["id"]}-source',
        'sourcePosition': 'right',
        'type': 'input',
        'data': {'label': 'Input'},
        'position': {'x': len(initialNodes) * 250, 'y': 80},
    }

    target_node = {
        'id': f'horizontal-{item["id"]}-target',
        'sourcePosition': 'right',
        'targetPosition': 'left',
        'data': {'label': f'Node {item["id"]}'},
        'position': {'x': (len(initialNodes) * 250) + 250, 'y': 0},
    }

    edge = {
        'id': f'horizontal-e{item["id"]}-source-target',
        'source': source_node['id'],
        'type': 'smoothstep',
        'target': target_node['id'],
        'animated': True,
    }

    initialNodes.extend([source_node, target_node])
    initialEdges.append(edge)

# Print the resulting initialNodes and initialEdges
print("const initialNodes =", initialNodes)
print("const initialEdges =", initialEdges)


import json

def nodes_to_json(nodes):
    serialized_nodes = []
    for node in nodes:
        serialized_node = {
            'id': node['id'],
            'sourcePosition': node['sourcePosition'],
            'type': node['type'],
            'data': {
                'label': node['data']['label']
            },
            'position': {
                'x': node['position']['x'],
                'y': node['position']['y']
            }
        }
        serialized_nodes.append(serialized_node)
    return json.dumps(serialized_nodes)

def edges_to_json(edges):
    serialized_edges = []
    for edge in edges:
        serialized_edge = {
            'id': edge['id'],
            'source': edge['source'],
            'type': edge['type'],
            'target': edge['target'],
            'animated': edge['animated']
        }
        serialized_edges.append(serialized_edge)
    return json.dumps(serialized_edges)
